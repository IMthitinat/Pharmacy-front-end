{"ast":null,"code":"// @ is an alias to /src\nimport PeopleList from \"@/components/Peoplelist.vue\";\nimport EventService from \"@/service/EventService.js\";\nimport { watchEffect } from \"@vue/runtime-core\";\nexport default {\n  name: \"Home\",\n  props: {\n    page: {\n      type: Number,\n      required: true\n    }\n  },\n  components: {\n    PeopleList\n  },\n\n  data() {\n    return {\n      peoples: null,\n      totalEvents: 0\n    };\n  },\n\n  created() {\n    watchEffect(() => {\n      EventService.getPeoplelList(this.page).then(response => {\n        this.peoples = response.data;\n        this.totalEvents = response.headers[\"x-total-count\"];\n      }).catch(error => {\n        console.log(error);\n      });\n    });\n  },\n\n  computed: {\n    hasNextPage() {\n      let totalPages = Math.ceil(this.totalEvents / 8);\n      return this.page < totalPages;\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA2DA;AACA,OAAOA,UAAP,MAAuB,6BAAvB;AACA,OAAOC,YAAP,MAAyB,2BAAzB;AACA,SAASC,WAAT,QAA4B,mBAA5B;AAEA,eAAe;EACbC,IAAI,EAAE,MADO;EAEbC,KAAK,EAAE;IACLC,IAAI,EAAE;MACJC,IAAI,EAAEC,MADF;MAEJC,QAAQ,EAAE;IAFN;EADD,CAFM;EAQbC,UAAU,EAAE;IACVT;EADU,CARC;;EAWbU,IAAI,GAAG;IACL,OAAO;MACLC,OAAO,EAAE,IADJ;MAELC,WAAW,EAAE;IAFR,CAAP;EAID,CAhBY;;EAiBbC,OAAO,GAAG;IACRX,WAAW,CAAC,MAAM;MAChBD,YAAY,CAACa,cAAb,CAA4B,KAAKT,IAAjC,EACGU,IADH,CACSC,QAAD,IAAc;QAClB,KAAKL,OAAL,GAAeK,QAAQ,CAACN,IAAxB;QACA,KAAKE,WAAL,GAAmBI,QAAQ,CAACC,OAAT,CAAiB,eAAjB,CAAnB;MACD,CAJH,EAKGC,KALH,CAKUC,KAAD,IAAW;QAChBC,OAAO,CAACC,GAAR,CAAYF,KAAZ;MACD,CAPH;IAQD,CATU,CAAX;EAUD,CA5BY;;EA6BbG,QAAQ,EAAE;IACRC,WAAW,GAAG;MACZ,IAAIC,UAAS,GAAIC,IAAI,CAACC,IAAL,CAAU,KAAKd,WAAL,GAAmB,CAA7B,CAAjB;MACA,OAAO,KAAKP,IAAL,GAAYmB,UAAnB;IACD;;EAJO;AA7BG,CAAf","names":["PeopleList","EventService","watchEffect","name","props","page","type","Number","required","components","data","peoples","totalEvents","created","getPeoplelList","then","response","headers","catch","error","console","log","computed","hasNextPage","totalPages","Math","ceil"],"sourceRoot":"","sources":["D:\\For Imp\\Pharmacy_LINE_chatbot_Back-end-master\\front\\SE331-2021-Project-I-need-healing-\\src\\views\\Home.vue"],"sourcesContent":["<template>\n  <div class=\"home\">\n    <h1 class=\"display-6\">List of vaccinated people</h1>\n    <hr />\n    <div class=\"row\">\n      <div class=\"col\"></div>\n      <div class=\"col-8\">\n        <table class=\"table table-hover\">\n          <thead>\n            <tr>\n              <th colspan=\"8\" scope=\"col\">Name and Surname</th>\n              <th scope=\"col\">Status(dose(s))</th>\n              <th scope=\"col\">Detail</th>\n            </tr>\n          </thead>\n          <tbody>\n            <PeopleList\n              v-for=\"people in peoples\"\n              :key=\"people.id\"\n              :people=\"people\"\n            />\n          </tbody>\n        </table>\n      </div>\n\n      <div class=\"col\"></div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-3\"></div>\n      <div class=\"col\">\n        <ul class=\"pagination justify-content-center\">\n          <li class=\"page-item\">\n            <router-link\n              class=\"page-link\"\n              id=\"page-prev\"\n              :to=\"{ name: 'Home', query: { page: page - 1 } }\"\n              rel=\"prev\"\n              v-if=\"page != 1\"\n              >Previous</router-link\n            >\n          </li>\n          <li class=\"page-item\">\n            <router-link\n              class=\"page-link\"\n              id=\"page-next\"\n              :to=\"{ name: 'Home', query: { page: page + 1 } }\"\n              rel=\"next\"\n              v-if=\"hasNextPage\"\n              >Next</router-link\n            >\n          </li>\n        </ul>\n      </div>\n      <div class=\"col-3\"></div>\n    </div>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport PeopleList from \"@/components/Peoplelist.vue\";\nimport EventService from \"@/service/EventService.js\";\nimport { watchEffect } from \"@vue/runtime-core\";\n\nexport default {\n  name: \"Home\",\n  props: {\n    page: {\n      type: Number,\n      required: true,\n    },\n  },\n  components: {\n    PeopleList,\n  },\n  data() {\n    return {\n      peoples: null,\n      totalEvents: 0,\n    };\n  },\n  created() {\n    watchEffect(() => {\n      EventService.getPeoplelList(this.page)\n        .then((response) => {\n          this.peoples = response.data;\n          this.totalEvents = response.headers[\"x-total-count\"];\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    });\n  },\n  computed: {\n    hasNextPage() {\n      let totalPages = Math.ceil(this.totalEvents / 8);\n      return this.page < totalPages;\n    },\n  },\n};\n</script>\n<style>\n.home {\n  margin-top: 10px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}